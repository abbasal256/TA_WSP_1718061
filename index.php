<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="wrappixel, admin dashboard, html css dashboard, web dashboard, bootstrap 4 admin, bootstrap 4, css3 dashboard, bootstrap 4 dashboard, Ample lite admin bootstrap 4 dashboard, frontend, responsive bootstrap 4 admin template, Ample admin lite dashboard bootstrap 4 dashboard template">
    <meta name="description" content="Ample Admin Lite is powerful and clean admin dashboard template, inpired from Bootstrap Framework">
    <meta name="robots" content="noindex,nofollow">
    <title>Ample Admin Lite Template by WrapPixel</title>
    <link rel="canonical" href="https://www.wrappixel.com/templates/ample-admin-lite/" />
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="assets/plugins/images/favicon.png">
    <!-- Custom CSS -->
    <link href="assets/css/style.min.css" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<body>
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <div class="lds-ripple">
            <div class="lds-pos"></div>
            <div class="lds-pos"></div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper" data-layout="vertical" data-navbarbg="skin5" data-sidebartype="full" data-sidebar-position="absolute" data-header-position="absolute" data-boxed-layout="full">
        <!-- ============================================================== -->
        <!-- Topbar header - style you can find in pages.scss -->
        <!-- ============================================================== -->
        <header class="topbar" data-navbarbg="skin5">
            <nav class="navbar top-navbar navbar-expand-md navbar-dark">
                <div class="navbar-header" data-logobg="skin6">
                    <!-- ============================================================== -->
                    <!-- Logo -->
                    <!-- ============================================================== -->
                    <a class="navbar-brand" href="">
                        <!-- Logo icon -->
                        <b class="logo-icon">
                            <!-- Dark Logo icon -->
                            <lottie-player class="mx-auto" src="assets/json/logo.json" background="transparent" speed="1" style="width: 50px; height: 50px;" loop autoplay></lottie-player>
                        </b>
                        <!--End Logo icon -->
                        <!-- Logo text -->
                        <span class="logo-text">
                            <!-- dark Logo text -->
                            <img src="assets/img/text-name.png" alt="homepage" />
                        </span>
                    </a>
                    <!-- ============================================================== -->
                    <!-- End Logo -->
                    <!-- ============================================================== -->
                    <!-- ============================================================== -->
                    <!-- toggle and nav items -->
                    <!-- ============================================================== -->
                    <a class="nav-toggler waves-effect waves-light text-dark d-block d-md-none" href="javascript:void(0)"><i class="ti-menu ti-close"></i></a>
                </div>
                <!-- ============================================================== -->
                <!-- End Logo -->
                <!-- ============================================================== -->
                <div class="navbar-collapse collapse" id="navbarSupportedContent" data-navbarbg="skin5">
                    <ul class="navbar-nav d-none d-md-block d-lg-none">
                        <li class="nav-item">
                            <a class="nav-toggler nav-link waves-effect waves-light text-white" href="javascript:void(0)"><i class="ti-menu ti-close"></i></a>
                        </li>
                    </ul>
                    <!-- ============================================================== -->
                    <!-- Right side toggle and nav items -->
                    <!-- ============================================================== -->
                    <ul class="navbar-nav ml-auto d-flex align-items-center">

                        <!-- ============================================================== -->
                        <!-- Search -->
                        <!-- ============================================================== -->

                        <!-- ============================================================== -->
                        <!-- User profile and search -->
                        <!-- ============================================================== -->
                        <li>
                            <a class="profile-pic" href="#">
                                <img src="assets/img/logo.png" alt="user-img" width="36" class="img-circle"><span class="text-white font-medium">Admin</span></a>
                        </li>
                        <!-- ============================================================== -->
                        <!-- User profile and search -->
                        <!-- ============================================================== -->
                    </ul>
                </div>
            </nav>
        </header>
        <!-- ============================================================== -->
        <!-- End Topbar header -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <aside class="left-sidebar" data-sidebarbg="skin6">
            <!-- Sidebar scroll-->
            <div class="scroll-sidebar">
                <!-- Sidebar navigation-->
                <nav class="sidebar-nav">
                    <ul id="sidebarnav">
                        <!-- User Profile-->
                        <li class="sidebar-item"> <a class="sidebar-link waves-effect waves-dark sidebar-link klik_menu" id="dashboard" href="#1" aria-expanded="false"><i class="fas fa-clock fa-fw" aria-hidden="true"></i><span class="hide-menu">Dashboard</span></a></li>
                        <li class="sidebar-item"> <a class="sidebar-link waves-effect waves-dark sidebar-link klik_menu" id="operator" href="#2" aria-expanded="false"><i class="fa fa-user" aria-hidden="true"></i><span class="hide-menu">Operator</span></a></li>
                        <li class="sidebar-item"> <a class="sidebar-link waves-effect waves-dark sidebar-link klik_menu" id="customer" href="#3" aria-expanded="false"><i class="fa fa-table" aria-hidden="true"></i><span class="hide-menu">Customer</span></a></li>
                        <li class="sidebar-item"> <a class="sidebar-link waves-effect waves-dark sidebar-link klik_menu" id="sound" href="#4" aria-expanded="false"><i class="fa fa-font" aria-hidden="true"></i><span class="hide-menu">Sound</span></a></li>
                        <li class="sidebar-item"> <a class="sidebar-link waves-effect waves-dark sidebar-link klik_menu" id="transaction" href="#5" aria-expanded="false"><i class="fa fa-globe" aria-hidden="true"></i><span class="hide-menu">Transaction</span></a></li>
                    </ul>

                </nav>
                <!-- End Sidebar navigation -->
            </div>
            <!-- End Sidebar scroll-->
        </aside>
        <!-- ============================================================== -->
        <!-- End Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper" style="min-height: 250px;">
            <!-- ============================================================== -->
            <!-- Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->

            <!-- ============================================================== -->
            <!-- End Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid val">
                <!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->

                <!-- ============================================================== -->
                <!-- End PAge Content -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- Right sidebar -->
                <!-- ============================================================== -->
                <!-- .right-sidebar -->
                <!-- ============================================================== -->
                <!-- End Right sidebar -->
                <!-- ============================================================== -->
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- footer -->
            <!-- ============================================================== -->
            <footer class="footer text-center"> 2020 © Ample Admin brought to you by <a href="https://www.wrappixel.com/">wrappixel.com</a>
            </footer>
            <!-- ============================================================== -->
            <!-- End footer -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Page wrapper  -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->
    <script src="assets/plugins/bower_components/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="assets/plugins/bower_components/popper.js/dist/umd/popper.min.js"></script>
    <script src="assets/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="assets/js/app-style-switcher.js"></script>
    <!--Wave Effects -->
    <script src="assets/js/waves.js"></script>
    <!--Menu sidebar -->
    <script src="assets/js/sidebarmenu.js"></script>
    <!--Custom JavaScript -->
    <script src="assets/js/custom.js"></script>
    <script src="assets/js/lottie.js"></script>
    <script>
        $(document).ready(function() {
            $('.val').load('dashboard.php');
            $('.klik_menu').on('click', function() {
                let menu = $(this).attr('id');
                console.log(menu);
                if (menu == "dashboard") {
                    $('.val').load('dashboard.php');
                } else if (menu == "customer") {
                    $('.val').load('customer.php');
                    loadTableCustomer()
                } else if (menu == "transaction") {
                    $('.val').load('transaction.php');
                    loadTableTransaction();
                } else if (menu == "sound") {
                    $('.val').load('sound.php');
                    loadTableSound();
                } else if (menu == "operator") {
                    $('.val').load('operator.php');
                    loadTableOperator()
                }
            });

            /*

                CRUD Operator

            */
            $('.val').on('click', '.addOpr', function() {
                var nama = $('[name="createNama"]').val();
                var nohp = $('[name="createNoHp"]').val();
                $.ajax({
                    type: "POST",
                    url: "http://localhost/family-sound-system/Operator",
                    data: {
                        nama_operator: nama,
                        no_hp_operator: nohp
                    },
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        loadTableOperator();
                        $('[name="createNama"]').val("");
                        $('[createNoHp]').val("");
                    }
                });
            });

            $('.val').on('click', '.editOpr', function() {
                var id = $(this).attr('key');
                $.ajax({
                    type: "GET",
                    url: `http://localhost/family-sound-system/Operator?id_operator=${id}`,
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        response.data.forEach(element => {
                            $('[name="id"]').val(element.id_operator);
                            $('[name="updateNama"]').val(element.nama_operator);
                            $('[name="updateNoHp"]').val(element.no_hp_operator);
                        });
                    }
                });
            });

            $('.val').on('click', '.updateOpr', function() {
                var id = $('[name="id"]').val();
                var nama = $('[name="updateNama"]').val();
                var nohp = $('[name="updateNoHp"]').val();
                $.ajax({
                    type: "PUT",
                    url: "http://localhost/family-sound-system/Operator",
                    data: {
                        id_operator: id,
                        nama_operator: nama,
                        no_hp_operator: nohp
                    },
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        loadTableOperator();
                        $('[name="id"]').val("");
                        $('[name="updateNama"]').val("");
                        $('[name="updateNoHp"]').val("");
                    }
                });
            });

            $('.val').on('click', '.deleteOpr', function() {
                var id = $(this).attr('key');
                var kondisi = confirm(`apa anda yakin ingin menghapus no id ${id}`);
                if (kondisi == false) {
                    return;
                } else {
                    $.ajax({
                        type: "DELETE",
                        url: "http://localhost/family-sound-system/Operator",
                        data: {
                            id_operator: id
                        },
                        dataType: "JSON",
                        headers: {
                            'TOKEN-FAMILY': "family01"
                        },
                        success: function(response) {
                            loadTableOperator();
                        }
                    });
                }
            });

            function loadTableOperator() {
                $.ajax({
                    type: "GET",
                    url: "http://localhost/family-sound-system/Operator",
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        var html = "";
                        let i = 1;
                        response.data.forEach(element => {
                            html += `<tr>
                                        <th scope="row">${i}</th>
                                        <td>${element.id_operator}</td>
                                        <td>${element.nama_operator}</td>
                                        <td>${element.no_hp_operator}</td>
                                        <td>
                                            <ul class="list-inline m-0">
                                                <li class="list-inline-item">
                                                    <button key="${element.id_operator}" class="btn btn-success btn-sm rounded-0 editOpr" type="button" data-toggle="modal" data-target="#updateModalCenterOpr"><i class="fa fa-edit"></i></button>
                                                </li>
                                                <li class="list-inline-item">
                                                    <button key="${element.id_operator}" class="btn btn-danger btn-sm rounded-0 deleteOpr" type="button"><i class="fa fa-trash"></i></button>
                                                </li>
                                            </ul>
                                        </td>
                                    </tr>`;
                            i++;
                        });
                        $('#table_operator').html(html);
                    }
                });
            }


            /*

                CRUD Customer
                
            */

            $('.val').on('click', '.addCsm', function() {
                var nama = $('[name="createNama"]').val();
                var alamat = $('[name="createAlamat"]').val();
                var nohp = $('[name="createNoHp"]').val();
                $.ajax({
                    type: "POST",
                    url: "http://localhost/family-sound-system/Customer",
                    data: {
                        nama_customer: nama,
                        alamat: alamat,
                        no_hp_customer: nohp
                    },
                    dataType: "dataType",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        loadTableCustomer();
                        $('[name="createNama"]').val("");
                        $('[name="createAlamat"]').val("");
                        $('[name="createNoHp"]').val("");
                    }
                });
            });

            $('.val').on('click', '.editCsm', function() {
                var id = $(this).attr('key');
                $.ajax({
                    type: "GET",
                    url: `http://localhost/family-sound-system/Customer?id_customer=${id}`,
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        response.data.forEach(element => {
                            $('[name="id"]').val(element.id_customer);
                            $('[name="updateNama"]').val(element.nama_customer);
                            $('[name="updateAlamat"]').val(element.alamat);
                            $('[name="updateNoHp"]').val(element.no_hp_customer);
                        });
                    }
                });
            });

            $('.val').on('click', '.updateCsm', function() {
                var id = $('[name="id"]').val();
                var nama = $('[name="updateNama"]').val();
                var alamat = $('[name="updateAlamat"]').val();
                var noHp = $('[name="updateNoHp"]').val();
                $.ajax({
                    type: "PUT",
                    url: "http://localhost/family-sound-system/Customer",
                    data: {
                        id_customer: id,
                        nama_customer: nama,
                        alamat: alamat,
                        no_hp_customer: noHp
                    },
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        loadTableCustomer();
                        $('[name="id"]').val("");
                        $('[name="updateNama"]').val("");
                        $('[name="updateAlamat"]').val("");
                        $('[name="updateNoHp"]').val("");
                    }
                });
            });

            $('.val').on('click', '.deleteCsm', function() {
                var id = $(this).attr('key');
                var kondisi = confirm(`apa anda yakin ingin menghapus no id ${id}`);
                if (kondisi == false) {
                    return;
                } else {
                    $.ajax({
                        type: "DELETE",
                        url: "http://localhost/family-sound-system/Customer",
                        data: {
                            id_customer: id
                        },
                        dataType: "JSON",
                        headers: {
                            'TOKEN-FAMILY': "family01"
                        },
                        success: function(response) {
                            loadTableCustomer();
                        }
                    });
                }
            });



            function loadTableCustomer() {
                $.ajax({
                    type: "GET",
                    url: "http://localhost/family-sound-system/Customer",
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        var html = "";
                        let i = 1;
                        response.data.forEach(element => {
                            html += `<tr>
                                        <th scope="row">${i}</th>
                                        <td>${element.id_customer}</td>
                                        <td>${element.nama_customer}</td>
                                        <td>${element.alamat}</td>
                                        <td>${element.no_hp_customer}</td>
                                        <td>
                                            <ul class="list-inline m-0">
                                                <li class="list-inline-item">
                                                    <button key="${element.id_customer}" class="btn btn-success btn-sm rounded-0 editCsm" type="button" data-toggle="modal" data-target="#updateModalCenterCsm"><i class="fa fa-edit"></i></button>
                                                </li>
                                                <li class="list-inline-item">
                                                    <button key="${element.id_customer}" class="btn btn-danger btn-sm rounded-0 deleteCsm" type="button"><i class="fa fa-trash"></i></button>
                                                </li>
                                            </ul>
                                        </td>
                                    </tr>`;
                            i++;
                        });
                        $('#table_customer').html(html);
                    }
                });
            }

            /*

                CRUD Sound
                
            */

            $('.val').on('click', '.addSnd', function() {
                var paket = $('[name="createPaketAcara"]').val();
                var daya = $('[name="createDaya"]').val();
                var status = $('[name="createStatus"]').val();
                var tarif = $('[name="createTarif"]').val();

                $.ajax({
                    type: "POST",
                    url: "http://localhost/family-sound-system/Sound",
                    data: {
                        paket_acara: paket,
                        daya: daya,
                        status: status,
                        tarif: tarif
                    },
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        loadTableSound();
                        $('[name="createPaketAcara"]').val("");
                        $('[name="createDaya"]').val("");
                        $('[name="createStatus"]').val("");
                        $('[name="createTarif"]').val("");
                    }
                });
            });

            $('.val').on('click', '.editSnd', function() {
                var id = $(this).attr('key');
                $.ajax({
                    type: "GET",
                    url: `http://localhost/family-sound-system/Sound?id_sound=${id}`,
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        response.data.forEach(element => {
                            $('[name="id"]').val(element.id_sound);
                            $('[name="updatePaketAcara"]').val(element.paket_acara);
                            $('[name="updateDaya"]').val(element.daya);
                            $('[name="updateStatus"]').val(element.status);
                            $('[name="updateTarif"]').val(element.tarif);
                        });
                    }
                });
            });

            $('.val').on('click', '.updateSnd', function() {
                var id = $('[name="id"]').val();
                var paket = $('[name="updatePaketAcara"]').val();
                var daya = $('[name="updateDaya"]').val();
                var status = $('[name="updateStatus"]').val();
                var tarif = $('[name="updateTarif"]').val();
                $.ajax({
                    type: "PUT",
                    url: "http://localhost/family-sound-system/Sound",
                    data: {
                        id_sound: id,
                        paket_acara: paket,
                        daya: daya,
                        status: status,
                        tarif: tarif
                    },
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        loadTableSound();
                        $('[name="id"]').val("");
                        $('[name="updatePaketAcara"]').val("");
                        $('[name="updateDaya"]').val("");
                        $('[name="updateStatus"]').val("");
                        $('[name="updateTarif"]').val("");
                    }
                });
            });

            $('.val').on('click', '.deleteSnd', function() {
                var id = $(this).attr('key');
                var kondisi = confirm(`apa anda yakin ingin menghapus no id ${id}`);
                if (kondisi == false) {
                    return;
                } else {
                    $.ajax({
                        type: "DELETE",
                        url: "http://localhost/family-sound-system/Sound",
                        data: {
                            id_sound: id
                        },
                        dataType: "JSON",
                        headers: {
                            'TOKEN-FAMILY': "family01"
                        },
                        success: function(response) {
                            loadTableSound();
                        }
                    });
                }
            });

            function loadTableSound() {
                $.ajax({
                    type: "GET",
                    url: "http://localhost/family-sound-system/Sound",
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        var html = "";
                        let i = 1;
                        response.data.forEach(element => {
                            html += `<tr>
                                        <th scope="row">${i}</th>
                                        <td>${element.id_sound}</td>
                                        <td>${element.paket_acara}</td>
                                        <td>${element.daya}</td>
                                        <td>${element.status}</td>
                                        <td>${element.tarif}</td>
                                        <td>
                                            <ul class="list-inline m-0">
                                                <li class="list-inline-item">
                                                    <button key="${element.id_sound}" class="btn btn-success btn-sm rounded-0 editSnd" type="button" data-toggle="modal" data-target="#updateModalCenterSnd"><i class="fa fa-edit"></i></button>
                                                </li>
                                                <li class="list-inline-item">
                                                    <button key="${element.id_sound}" class="btn btn-danger btn-sm rounded-0 deleteSnd" type="button"><i class="fa fa-trash"></i></button>
                                                </li>
                                            </ul>
                                        </td>
                                    </tr>`;
                            i++;
                        });
                        $('#table_sound').html(html);
                    }
                });
            }

            /*

                CRUD Sound
                
            */

            $('.val').on('click', '.btnCreate', function() {
                $.ajax({
                    type: "GET",
                    url: "http://localhost/family-sound-system/Customer",
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        var option = "<option>Pilih Salah Satu</option>";
                        response.data.forEach(element => {
                            option += `<option value="${element.id_customer}">${element.nama_customer}</option>`
                        });
                        $('.addCustomer').html(option);
                    }
                });
                $.ajax({
                    type: "GET",
                    url: "http://localhost/family-sound-system/Sound",
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        var option = "<option>Pilih Salah Satu</option>";
                        response.data.forEach(element => {
                            option += `<option value="${element.id_sound}">${element.paket_acara}</option>`
                        });
                        $('.addSound').html(option);
                    }
                });
                $.ajax({
                    type: "GET",
                    url: "http://localhost/family-sound-system/Operator",
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        var option = "<option>Pilih Salah Satu</option>";
                        response.data.forEach(element => {
                            option += `<option value="${element.id_operator}">${element.nama_operator}</option>`
                        });
                        $('.addOperator').html(option);
                    }
                });
            });

            $('.val').on('click', '.addTsc', function() {
                var customer = $('[name="createCustomer"]').val();
                var operator = $('[name="createOperator"]').val();
                var sound = $('[name="createSound"]').val();
                var tanggal = $('[name="createTanggalPemakaian"]').val();
                var lama = $('[name="createLamaPemakaian"]').val();
                var lokasi = $('[name="createLokasiPemakaian"]').val();
                var harga = $('[name="createHarga"]').val();
                var dibayar = $('[name="createDibayar"]').val();
                var status_pembayaran = $('[name="createStatusPembayaran"]').val();

                $.ajax({
                    type: "POST",
                    url: "http://localhost/family-sound-system/Transaction",
                    data: {
                        customer_id: customer,
                        operator_id: operator,
                        sound_id: sound,
                        tanggal_pemakaian: tanggal,
                        lama_pemakaian: lama,
                        lokasi_pemakaian: lokasi,
                        harga: harga,
                        dibayar: dibayar,
                        status_pembayaran: status_pembayaran
                    },
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        loadTableTransaction();
                        $('[name="createCustomer"]').val("");
                        $('[name="createOperator"]').val("");
                        $('[name="createSound"]').val("");
                        $('[name="createTanggalPemakaian"]').val("");
                        $('[name="createLamaPemakaian"]').val("");
                        $('[name="createLokasiPemakaian"]').val("");
                        $('[name="createHarga"]').val("");
                        $('[name="createDibayar"]').val("");
                        $('[name="createStatusPembayaran"]').val("");
                    }
                });
            });

            $('.val').on('click', '.editTsc', function() {
                $.ajax({
                    type: "GET",
                    url: "http://localhost/family-sound-system/Customer",
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        var option = "<option>Pilih Salah Satu</option>";
                        response.data.forEach(element => {
                            option += `<option value="${element.id_customer}">${element.nama_customer}</option>`
                        });
                        $('.addUpCustomer').html(option);
                    }
                });
                $.ajax({
                    type: "GET",
                    url: "http://localhost/family-sound-system/Sound",
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        var option = "<option>Pilih Salah Satu</option>";
                        response.data.forEach(element => {
                            option += `<option value="${element.id_sound}">${element.paket_acara}</option>`
                        });
                        $('.addUpSound').html(option);
                    }
                });
                $.ajax({
                    type: "GET",
                    url: "http://localhost/family-sound-system/Operator",
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        var option = "<option>Pilih Salah Satu</option>";
                        response.data.forEach(element => {
                            option += `<option value="${element.id_operator}">${element.nama_operator}</option>`
                        });
                        $('.addUpOperator').html(option);
                    }
                });


                var id = $(this).attr('key');

                $.ajax({
                    type: "GET",
                    url: `http://localhost/family-sound-system/Transaction?id_transaction=${id}`,
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    dataType: "JSON",
                    success: function(response) {
                        response.data.forEach(element => {
                            $('[name="id"]').val(element.id_transaction);
                            $('[name="updateCustomer"]').val(element.customer_id);
                            $('[name="updateOperator"]').val(element.operator_id);
                            $('[name="updateSound"]').val(element.sound_id);
                            $('[name="updateTanggalPemakaian"]').val(element.tanggal_pemakaian);
                            $('[name="updateLamaPemakaian"]').val(element.lama_pemakaian);
                            $('[name="updateLokasiPemakaian"]').val(element.lokasi_pemakaian);
                            $('[name="updateHarga"]').val(element.harga);
                            $('[name="updateDibayar"]').val(element.dibayar);
                            $('[name="updateStatusPembayaran"]').val(element.status_pembayaran);
                        });
                    }
                });

            });

            $('.val').on('click', '.updateTsc', function() {
                var id = $('[name="id"]').val();
                var customer = $('[name="updateCustomer"]').val();
                var operator = $('[name="updateOperator"]').val();
                var sound = $('[name="updateSound"]').val();
                var tanggal = $('[name="updateTanggalPemakaian"]').val();
                var lama = $('[name="updateLamaPemakaian"]').val();
                var lokasi = $('[name="updateLokasiPemakaian"]').val();
                var harga = $('[name="updateHarga"]').val();
                var dibayar = $('[name="updateDibayar"]').val();
                var status_pembayaran = $('[name="updateStatusPembayaran"]').val();

                $.ajax({
                    type: "PUT",
                    url: "http://localhost/family-sound-system/Transaction",
                    data: {
                        id_transaction: id,
                        customer_id: customer,
                        operator_id: operator,
                        sound_id: sound,
                        tanggal_pemakaian: tanggal,
                        lama_pemakaian: lama,
                        lokasi_pemakaian: lokasi,
                        harga: harga,
                        dibayar: dibayar,
                        status_pembayaran: status_pembayaran
                    },
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        loadTableTransaction();
                        $('[name="updateCustomer"]').val("");
                        $('[name="updateOperator"]').val("");
                        $('[name="updateSound"]').val("");
                        $('[name="updateTanggalPemakaian"]').val("");
                        $('[name="updateLamaPemakaian"]').val("");
                        $('[name="updateLokasiPemakaian"]').val("");
                        $('[name="updateHarga"]').val("");
                        $('[name="updateDibayar"]').val("");
                        $('[name="updateStatusPembayaran"]').val("");
                    }
                });
            });

            $('.val').on('click', '.deleteTsc', function() {
                var id = $(this).attr('key');
                var kondisi = confirm(`apa anda yakin ingin menghapus no id ${id}`);
                if (kondisi == false) {
                    return;
                } else {
                    $.ajax({
                        type: "DELETE",
                        url: "http://localhost/family-sound-system/Transaction",
                        data: {
                            id_transaction: id
                        },
                        dataType: "JSON",
                        headers: {
                            'TOKEN-FAMILY': "family01"
                        },
                        success: function(response) {
                            loadTableTransaction();
                        }
                    });
                }
            });

            function loadTableTransaction() {
                $.ajax({
                    type: "GET",
                    url: "http://localhost/family-sound-system/Transaction",
                    dataType: "JSON",
                    headers: {
                        'TOKEN-FAMILY': "family01"
                    },
                    success: function(response) {
                        var html = "";
                        let i = 1;
                        response.data.forEach(element => {
                            html += `<tr>
                                        <th scope="row">${i}</th>
                                        <td>${element.customer_id}</td>
                                        <td>${element.operator_id}</td>
                                        <td>${element.sound_id}</td>
                                        <td>${element.tanggal_pemakaian}</td>
                                        <td>${element.lama_pemakaian}</td>
                                        <td>${element.lokasi_pemakaian}</td>
                                        <td>${element.harga}</td>
                                        <td>${element.dibayar}</td>
                                        <td>${element.status_pembayaran}</td>
                                        <td>
                                            <ul class="list-inline m-0">
                                                <li class="list-inline-item">
                                                    <button key="${element.id_transaction}" class="btn btn-success btn-sm rounded-0 editTsc" type="button" data-toggle="modal" data-target="#updateModalCenterTsc"><i class="fa fa-edit"></i></button>
                                                </li>
                                                <li class="list-inline-item">
                                                    <button key="${element.id_transaction}" class="btn btn-danger btn-sm rounded-0 deleteTsc" type="button"><i class="fa fa-trash"></i></button>
                                                </li>
                                            </ul>
                                        </td>
                                    </tr>`;
                            i++;
                        });
                        $('#table_transaction').html(html);
                    }
                });
            }
        });
    </script>
</body>

</html>